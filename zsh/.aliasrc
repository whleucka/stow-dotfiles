#!/usr/bin/env bash
#
# Will Hleucka william.hleucka@gmail.com
#

if command -v ncdu > /dev/null; then
    alias du="ncdu -x "
fi

if command -v tmux > /dev/null; then
    if tmux info &> /dev/null; then
        alias cls="clear; tmux clear-history"
    else
        alias cls="clear"
    fi
else
    alias cls="clear"
fi

# quick dotfiles
if command -v stow > /dev/null; then
    alias stow-dotfiles="cd ~/stow-dotfiles"
    alias stow-init="cd ~/stow-dotfiles && find . -maxdepth 1 -not -path './.git' -not -path '.' -type d -printf '%f\n' | xargs -n1 stow && cd -"
    alias stow-update="cd ~/stow-dotfiles && g pull && cd - && zsh"
    alias stow-remove="cd ~/stow-dotfiles && find . -maxdepth 1 -not -path './.git' -not -path '.' -type d -printf '%f\n' | xargs -n1 stow -D && cd -"
fi

# expressvpn
if command -v expressvpn > /dev/null; then
    alias vpn-up="expressvpn connect"
    alias vpn-down="expressvpn disconnect"
fi

# docker
if command -v docker-compose > /dev/null; then
    alias dcup='sudo docker-compose -f ~/Docker/docker-compose.yml up -d' #brings up all containers if one is not defined after dcup
    alias dcdown='sudo docker-compose -f ~/Docker/docker-compose.yml stop' #brings down all containers if one is not defined after dcdown
    alias dcbuild='sudo docker-compose build'
    alias dcpull='sudo docker-compose -f ~/Docker/docker-compose.yml pull' #pulls all new images is specified after dcpull
    alias dclogs='sudo docker-compose -f ~/Docker/docker-compose.yml logs -tf --tail="50" '
    alias dtail='sudo docker logs -tf --tail="50" "$@"'
fi

# composer
if command -v composer > /dev/null; then
    alias cu="composer update"
    alias cr="composer require "
fi

# tmux
if command -v tmux > /dev/null; then
    alias tmux="tmux -u"
    alias mux="tmuxinator"
fi

# text to speech
alias say='echo "$1" | espeak -s 120 2>/dev/null'

# npm
alias naf="npm audit fix"
alias npi="npm install"
alias npu="npm update"
alias nrw="npm run watch"
alias nrb="npm run build"
alias nrd="npm run dev"
alias nrp="npm run prod"
alias nrh="npm run hot"

# prettier
if command -v prettier > /dev/null; then
    alias pw='prettier --write --ignore-unknown "{app,resources,src}/**/*"'
fi

# md files
if command -v grip > /dev/null; then
    alias serve-md="grip -b "
fi

# tuir
if command -v tuir > /dev/null; then
    alias reddit='tuir --enable-media'
fi

# hacker news
if command -v hackernews_tui > /dev/null; then
    alias hackernews="hackernews_tui"
fi

# ssh
alias s="kitty +kitten ssh"
alias d="kitty +kitten diff"
alias tf="kitty +kitten transfer"
alias rf="kitty +kitten transfer --direction=receive"
alias icat="kitty +kitten icat"

# libra-php
alias cs="./celestial -s"
alias lt="./libra -t"

# laravel
alias pa="php artisan"
alias pas="php artisan serve"
alias pat="php artisan test"

# git
alias gl="glola"
alias gld="git log --pretty=format:"%ad %h by %an, %s" --date=iso --no-merges | sort -r | less"
alias gs="git status"
alias gitstore="git config credential.helper store"

# yay
alias upg='yay -Syu'
alias upd='yay -Sy'
alias install='yay -S '
alias remove='yay -Rs '
alias purge='yay -Rcns '
alias uninstall='yay -R '
#alias upg='sudo apt update && sudo apt upgrade -y'
#alias upd='sudo apt update'
#alias install='sudo apt install'
#alias remove='sudo apt remove'
#alias uninstall='remove'
#alias search='sudo apt search'

# nvim
if command -v nvim > /dev/null; then
    alias v='nvim '
    alias astro-setup="git clone https://github.com/whleucka/astronvim_config.git ~/.config/nvim/lua/user"
    alias astro-update="cd ~/.config/nvim/lua/user && git pull && nvim --headless -c 'autocmd User PackerComplete quitall' -c 'PackerSync' && cd -"
    alias nvim-update="cd ~/neovim-config/ && git pull && cd -"
fi

# transf files / folders
if command -v rsync > /dev/null; then
    alias rs='rsync -rzvhP '
fi

# list directories
if command -v exa > /dev/null; then
    alias ls="exa"
    alias l='exa -l'
    alias la='exa -al'
    alias ll='exa -alh'
    alias tree='exa --tree'
else
    alias l='ls -l'
    alias la='ls -a'
    alias ll='ls -la'
fi

# bat cat
if command -v bat > /dev/null; then
    alias cat="bat -p "
    alias bd="batdiff "
elif command -v batcat > /dev/null; then
    alias cat="batcat "
fi
